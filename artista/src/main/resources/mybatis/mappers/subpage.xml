<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
							"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mulcam.artista.dao.SubPageDAO">
	
	<!-- 회원가입 -->
	<insert id="insertMember" parameterType="member" >
		<![CDATA[
			insert into member(id, password, name, email, contact, address, address2,membertype) values(#{id}, #{password}, #{name},#{email},null,null,null,null)
		]]>
	</insert>
	
	<!-- 회원가입 -->
	<insert id="insertMember2" parameterType="map" >
		<![CDATA[
			insert into member(id, password, name, email, contact, address, address2,membertype) values(#{id},'1234', #{name},#{email},null,null,null,null)
		]]>
	</insert> 
	
	<!-- 회원가입 -->
	<select id="queryMember" parameterType="string" resultType="member">
		<![CDATA[
			select * from member where id=#{id}
		]]>
	</select>
	
	<!-- 회원가입 -->
	<update id="changePw" parameterType="map" >
		<![CDATA[
			update member set password=#{password} where id=#{id}
		]]>
	</update>
	
	<!-- 회원가입 -->
	<update id="updateMember" parameterType="member" >
		<![CDATA[
			update member set contact=#{contact}, address=#{address}, address2=#{address2} where id=#{id}
		]]>
	</update>
	
	<!-- 회원가입 -->
	<select id="checkPw" parameterType="string" resultType="string">
		<![CDATA[
			select password from member where id=#{id}
		]]>
	</select>
	
	<!-- 회원가입 -->
	<select id="memberList" resultType="member">
		<![CDATA[
			select * from meber
		]]>
	</select>
	
	<!-- 회원가입 -->
	<delete id="deleteId" parameterType="string">
		<![CDATA[
			delete from member where id=#{id}
		]]>
	</delete>
	
	<!-- 회원가입 -->
	<select id="cartList" resultType="cart" parameterType="string">
		<![CDATA[
			select * from cart where id=#{id}
		]]>
	</select>
	
	<!-- 회원가입 -->
	<delete id="deleteCart" parameterType="int">
		<![CDATA[
			delete from cart where cartNo=#{cartNo}
		]]>
	</delete>
	
	<!-- 회원유형 변경 -->
	<update id="updateMemberType" parameterType="map">
		<![CDATA[
			update member set membertype=#{membertype} where id=#{id}
		]]>
	</update>
	
	<!-- 회원가입 -->
	<select id="cartinfo" resultType="cart" parameterType="int">
		<![CDATA[
			select * from cart where cartNo=#{cartNo}
		]]>
	</select>

</mapper>
<!-- create table member(
	id varchar(100) not null,
    password varchar(255) not null,
    name varchar(100) not null,
    email varchar(255),
    contact varchar(255),
    address varchar(500),
    address2 varchar(500),
    membertype varchar(30),
    primary key(id)
); -->

<!-- create table cart(
	cartNo int(10) auto_increment not null,
    id varchar(100) not null,
    workName varchar(100) not null,
    workPrice int(10),
    workArtist varchar(100)not null,
    workSize varchar(255),
    workNo int(10) not null,
    workImg varchar(255),
    cartDate Datetime,
    primary key(cartNo)
); -->
