<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
							"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mulcam.artista.dao.ArtistApplyDAO">
	
	<select id="maxApplyId" resultType="integer">
		<![CDATA[
			select max(id) from artistapply
		]]>
	</select>
	
	<!-- 아티스트 등록신청 내용 insert -->
	<insert id="insertArtistApply" parameterType="artistapply">
		<![CDATA[
			insert into artistapply 
			(artistNo, id, artistName, artistImg, artistType, artistIntroduce, artistRecord, artistInstagram, applyResult) 
			values 
			(#{artistNo}, #{id}, #{artistName}, #{artistImg}, #{artistType}, #{artistIntroduce}, #{artistRecord}, #{artistInstagram}, #{applyResult})
		]]>
	</insert>
	
	<select id="ArtistApplyNum" resultType="int">
		<![CDATA[
			select count(*) from artistapply
		]]>
	</select>
	
	<select id="selectArtistApplyList" parameterType="int" resultType="artistapply">
		<![CDATA[
			select * from artistapply limit #{startrow}, 9
		]]>
	</select>
	
	<select id="selectArtistApplyById" parameterType="int" resultType="artistapply">
		<![CDATA[
			select * from artistapply where artistNo=#{applyNo} limit 1
		]]>
	</select>
	
	<delete id="deleteArtistApplyById" parameterType="int" >
		<![CDATA[
			delete from artistapply where artistNo=#{applyNo}
		]]>
	</delete>
	
</mapper>
<!-- 
create table artistapply(
	artistNo int(10) not null,
    id varchar(100) not null,
    artistName varchar(100) not null,
    artistImg varchar(255) not null,
    artistType varchar(100) not null,
    artistIntroduce varchar(500),
    artistRecord longtext,
    artistInstagram varchar(500),
    applyResult int not null,
    refusedContents longtext,
    primary key(artistNo)
);
 -->